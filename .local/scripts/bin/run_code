#!/bin/sh


eval "$(compile "$1" | awk '{print "line"NR"=\""$0"\""}')"
output="$(compile "$1")"

BIN_FILE="${output%*ยง}"
EXEC_CMD="${output#*ยง}"

printf "\$ %s\n\n" "$EXEC_CMD"
time eval "$EXEC_CMD" ; printf "Press any key to exit..." && wait_key_press

[ -n "$BIN_FILE" ] && rm "$BIN_FILE"
