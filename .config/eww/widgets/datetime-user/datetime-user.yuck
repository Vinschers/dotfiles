(defpoll user :interval "10h" "echo \$USER")

(defwidget datetime-user []
  (box
    :class "datetime-user"
    :space-evenly false

    (box
      :halign "start"
      :valign "center"
      :spacing 10

      (label
        :class "time"
        :text "${time.hour}:${time.minute}"
      )

      (box
        :class "date"
        :orientation "vertical"
        :valign "center"
        :space-evenly false

        (label
          :text "${time.day} ${time.month} ${time.year}"
          :halign "start"
        )

        (label
          :text "${time.weekday}"
          :halign "start"
        )
      )
    )

    (box
      :orientation "horizontal"
      :space-evenly false
      :halign "end"
      :valign "center"
      :hexpand true

      (box
        :class "user-picture"
        :style "background-image: url('/usr/share/sddm/faces/${user}.face.icon');")
    )
  )
)
