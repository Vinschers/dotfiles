#!/bin/sh

check_lives () {
	while read -r id symbol
    do
        name="$(echo "$id" | sed 's/\([^[:blank:]]\)\([[:upper:]]\)/\1 \2/g')"
        curl -s "https://www.youtube.com/@$id" | grep -q "hqdefault_live.jpg" && printf "{\"id\": \"%s\", \"icon\": \"%s\", \"name\": \"%s\"}," "$id" "$symbol" "$name"
	done
}

input () {
	echo "KureijiOllie ğŸ§Ÿ"
	echo "MoonaHoshinova ğŸŒ•"

	echo "GawrGura ğŸ”±"
    echo "WatsonAmelia ğŸ”"
    echo "MoriCalliope ğŸ’€"
    echo "TakanashiKiara ğŸ”"
    echo "NinomaeInanis ğŸ™"

    echo "IRyS ğŸ’"

    # echo "UCsUj0dszADCGbF3gNrQEuSQ ğŸª" :'(
    echo "CeresFauna ğŸŒ¿"
    echo "NanashiMumei ğŸª¶ "
    echo "OuroKronii â³"
    echo "HakosBaelz ğŸ²"
}

text="$(input | check_lives)"
if [ -n "$text" ]; then
    echo "[${text%?}]"
else
    echo "[]"
fi
